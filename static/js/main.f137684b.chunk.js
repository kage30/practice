(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,t,n){e.exports=n(45)},22:function(e,t,n){},43:function(e,t,n){},45:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(9),i=n.n(o),s=(n(22),n(10)),l=n(11),c=n(14),u=n(12),m=n(15),d=n(13),h=n.n(d),p=(n(43),function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).clickHandler=function(){n.loadUser().catch(function(e){alert("\u30a8\u30e9\u30fc\u767a\u751f")})},n.state={isLogin:!1,departmentList:[],departmentId:"",userList:[],totalPage:"",currentPage:"",word:""},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.httpClient=h.a.create({baseURL:"https://kadou.i.nijibox.net/api",withCredentials:!0}),this.loadAuth().then(function(){return e.state.isLogin?e.loadDepartments():Promise.resolve()}).catch(function(e){alert("API\u304c\u30a8\u30e9\u30fc\u3092\u8fd4\u3057\u307e\u3057\u305f\n\n"+e)})}},{key:"loadAuth",value:function(){var e=this;return this.httpClient.get("/auth",{params:{callback:"http://localhost:3000"}}).then(this.commonResponseHandling).then(function(t){t.is_login?e.setState({isLogin:!0}):t.auth_url&&(window.location.href=t.auth_url)})}},{key:"loadDepartments",value:function(){var e=this;return this.httpClient.get("/who/departments").then(this.commonResponseHandling).then(function(t){e.setState({departmentList:t})})}},{key:"commonResponseHandling",value:function(e){return console.debug(e),"200"!==e.data.code?(console.error(e.data.data),Promise.reject("API Error:"+e.data.data.message)):Promise.resolve(e.data.data)}},{key:"loadUser",value:function(e){var t=this,n={department_id:e.target.value||this.state.departmentId,page:e.target.getAttribute("data-page")||1,query:this.state.word};return this.httpClient.get("/who/search",{params:n}).then(this.commonResponseHandling).then(function(e){t.setState({departmentId:n.department_id,userList:e.item_list,totalPage:e.summary.total_pages,currentPage:e.summary.current_page})})}},{key:"handleChange",value:function(e){this.setState({word:e})}},{key:"render",value:function(){var e=this,t=this.state.userList.map(function(e,t){return a.createElement("div",{className:"members_card",key:t},a.createElement("p",{className:"members_name"},e.user_name),a.createElement("img",{src:e.photo_url,alt:e.user_name}))}),n=this.state.totalPage,r=this.state.currentPage;return a.createElement("div",null,a.createElement("form",null,a.createElement("label",null,"\u90e8\u7f72\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044",a.createElement("select",{onChange:function(t){return e.loadUser(t)}},a.createElement("option",{value:"0"},"\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044"),a.createElement("option",{value:"2"},"MP\u4e8b\u696d\u90e8"),a.createElement("option",{value:"3"},"OS\u4e8b\u696d\u90e8"),a.createElement("option",{value:"8"},"UI/UX\u5236\u4f5c\u5ba4"),a.createElement("option",{value:"4"},"\u958b\u767a\u5ba4"),a.createElement("option",{value:"5"},"\u30af\u30ea\u30a8\u30a4\u30c6\u30a3\u30d6\u5ba4"),a.createElement("option",{value:"6"},"QA\u30b0\u30eb\u30fc\u30d7"),a.createElement("option",{value:"7"},"\u7d4c\u55b6\u4f01\u753b\u5ba4"),a.createElement("option",{value:"1"},"\u30cb\u30b8\u30dc\u30c3\u30af\u30b9")))),a.createElement("input",{type:"text",value:this.state.word,onChange:function(t){return e.handleChange(t.target.value)}}),a.createElement("button",{onClick:function(t){return e.loadUser(t)}},"\u691c\u7d22"),a.createElement("div",{className:"members"},t,a.createElement("div",{className:"pager"},a.createElement("button",{type:"button",className:"",onClick:function(t){return e.loadUser(t)},"data-page":this.state.currentPage-1}," \u524d\u3078"),a.createElement("div",{className:"pager__page"},r,"/",n,"\u30da\u30fc\u30b8"),a.createElement("button",{type:"button",className:"",onClick:function(t){return e.loadUser(t)},"data-page":this.state.currentPage+1},"\u6b21\u3078"))))}}]),t}(a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(p,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[16,2,1]]]);
//# sourceMappingURL=main.f137684b.chunk.js.map